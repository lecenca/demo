程序分为客户端和服务端。

客户端有绑定一个ip端口进行聊天，并将此ip端口作为自己的唯一标识。

客户端都要连上服务端，新连上的客户端把自己的聊天ip端口发给服务器，服务器会将其发给其余客户端，并且服务端还会把其余的客户端的聊天ip端口发回给新连上的客户端。

客户端通过聊天ip端口与其余客户端进行直接通信，不通过服务端。